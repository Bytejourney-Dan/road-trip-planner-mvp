# Road Trip Planner MVP

## Overview

This is a web-based road trip planner application that leverages AI to create comprehensive travel itineraries. Users input their trip details (start/end locations, dates, travel preferences) and receive a fully mapped, day-by-day itinerary generated by ChatGPT. The application integrates Google Maps APIs to provide visual route mapping, geocoded locations, and detailed travel information.

The application follows a modern full-stack architecture with React frontend, Express backend, and AI-powered trip planning capabilities. It's designed as a lightweight MVP focused on delivering automated trip planning with visual map integration.

## User Preferences

Preferred communication style: Simple, everyday language.

## Recent Changes

**August 14, 2025**
- ✅ **Two-Page Flow Architecture**: Converted from permanent side-by-side layout to landing page → results page flow
- ✅ **Landing Page Design**: Hero section with feature highlights, statistics, and prominent trip form
- ✅ **Route Connection Fix**: Routes now only connect overnight stops (not attractions) preventing Google Maps API waypoint limit errors
- ✅ **Interactive Map Features**: Added click-to-add locations with day selection panel, integrated edit mode controls
- ✅ **Smooth Page Transitions**: Session storage for trip data persistence across page navigation
- ✅ **Scenic Background Design**: High-resolution SVG scenic background with mountains, winding roads, animated clouds, and glowing sun
- ✅ **Map Container Fixes**: Enhanced height inheritance and z-index positioning for proper map display
- ✅ **Tab-Based Layout**: Results page now uses tab navigation to switch between Route Map and Trip Details views
- ✅ **Enhanced Itinerary Sidebar**: Structured itinerary panel with header, statistics, and improved visual hierarchy
- ✅ **Round Trip Route Optimization**: Enhanced ChatGPT prompt with strict geographic separation rules, 100+ mile distance requirements, and zero overlap tolerance for true loop experiences
- ✅ **Interests Field Restoration**: Added back travel interests selection with Nature types multi-select functionality
- ✅ **Dropdown Z-Index Fix**: Fixed location dropdown positioning to appear above all page elements
- ✅ **Google Maps Red Pins**: Updated overnight stay markers to use authentic Google Maps red pins instead of custom blue circles
- ✅ **Trip Summary Positioning**: Moved trip summary block down to avoid covering Google Maps map/satellite toggle controls

**August 13, 2025**
- ✅ **Comprehensive Location Editing**: Added interactive editing functionality with click-to-add attractions, removal capabilities, and real-time route updates
- ✅ **Git Integration Setup**: Enhanced .gitignore for security, created comprehensive README and GitHub setup guide
- ✅ **Edit Mode Interface**: Blue toggle button, green update button, smart day assignment for new attractions
- ✅ **Route Optimization**: Routes flow through custom attractions as waypoints, not just overnight locations
- ✅ **Desktop-First Mobile Compatibility**: Subtle responsive design maintaining laptop/desktop primary experience with graceful mobile adaptations

## System Architecture

### Frontend Architecture
- **Framework**: React 18 with TypeScript
- **Routing**: Wouter for lightweight client-side routing
- **UI Components**: Shadcn/ui component library with Radix UI primitives
- **Styling**: Tailwind CSS with CSS variables for theming
- **State Management**: TanStack Query for server state management
- **Build Tool**: Vite for development and production builds

### Backend Architecture
- **Runtime**: Node.js with Express.js framework
- **Language**: TypeScript with ES modules
- **API Design**: RESTful endpoints for trip planning operations
- **Storage**: In-memory storage implementation with interface for future database integration
- **Schema Validation**: Zod for request/response validation
- **Development**: Hot reload with Vite integration for full-stack development

### Data Storage Solutions
- **Current**: In-memory storage using Map data structures
- **Future Ready**: Drizzle ORM configured for PostgreSQL with schema definitions
- **Database Config**: PostgreSQL dialect with Neon Database integration ready
- **Migrations**: Drizzle-kit for database schema management

### AI Integration
- **Provider**: OpenAI GPT-4o for itinerary generation
- **Approach**: Structured JSON prompts with strict response formatting
- **Processing**: Custom prompt engineering for travel planning domain
- **Parsing**: JSON response parsing with error handling and fallbacks

### Map Integration
- **Primary API**: Google Maps JavaScript API for interactive map display
- **Geocoding**: Google Geocoding API for location coordinate resolution
- **Route Planning**: Google Routes API v2 for driving directions and timing
- **Features**: Interactive markers, route polylines, and location pins

### Component Architecture
- **Landing Page**: Hero section with trip form, feature highlights, and call-to-action
- **Results Page**: Split view with map/itinerary toggle and comprehensive trip management
- **Trip Form**: Collects user input with validation, supports minimal and full layouts
- **Map View**: Interactive Google Maps with route visualization, location editing, and attraction management
- **Itinerary View**: Structured display of day-by-day travel plans with customization options
- **Loading States**: User feedback during AI processing with smooth transitions
- **Error Handling**: Comprehensive error boundaries and user notifications

### Development Patterns
- **Shared Schema**: Common type definitions between frontend and backend
- **Path Mapping**: TypeScript path aliases for clean imports
- **Hot Reload**: Development server with instant feedback
- **Type Safety**: End-to-end TypeScript for compile-time error prevention

## External Dependencies

### AI Services
- **OpenAI API**: GPT-4o model for intelligent itinerary generation without max driving hours constraint
- **Authentication**: API key-based authentication (OPENAI_API_KEY)
- **Rate Limiting**: Built-in OpenAI rate limiting and error handling
- **Prompt Engineering**: Simplified prompts focusing on realistic travel times and attraction recommendations

### Mapping Services
- **Google Maps Platform**: Multiple API integrations with separate keys for security
  - Frontend Key (GOOGLE_MAPS_FRONTEND_API_KEY): Maps JavaScript API for interactive map display in browser
  - Server Key (GOOGLE_MAPS_SERVER_API_KEY): Geocoding API for address-to-coordinate conversion on server
  - Routes API v2 for driving directions and time estimates (planned)
- **Security**: Separate API keys follow Google's best practices - frontend key visible in browser but domain-restricted, server key secure and API-restricted

### Database Services
- **Neon Database**: PostgreSQL-compatible serverless database
- **Connection**: Serverless connection pooling via @neondatabase/serverless
- **ORM**: Drizzle ORM for type-safe database operations

### UI and Styling
- **Radix UI**: Accessible component primitives for complex UI elements
- **Tailwind CSS**: Utility-first CSS framework
- **Lucide React**: Icon library for consistent iconography
- **React Hook Form**: Form state management with validation

### Development Tools
- **Vite**: Fast build tool and development server
- **TypeScript**: Static type checking and enhanced developer experience
- **ESBuild**: Fast JavaScript bundler for production builds
- **PostCSS**: CSS processing with Tailwind CSS integration